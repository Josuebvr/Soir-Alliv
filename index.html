<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Soir Alliv ‚Äî Portf√≥lio Impress√£o 3D</title>
  <meta name="description" content="Portf√≥lio de produtos de impress√£o 3D ‚Äî Soir Alliv">
  <style>
    :root {
      --bg: #ffffff;
      --text: #111;
      --muted: #666;
      --accent: #f97316;
      --radius: 14px;
      --maxw: 1200px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
    }

    body {
      margin: 0;
      background: linear-gradient(180deg, #fff 0%, #fff6f0 100%);
      color: var(--text);
      line-height: 1.5;
      display: flex;
      justify-content: center;
      padding: 40px 20px;
    }

    .wrap {
      width: 100%;
      max-width: var(--maxw);
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 18px 22px;
      margin-bottom: 28px;
      border-radius: var(--radius);
      background: #fff;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px
    }

    .logo {
      width: 56px;
      height: 56px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent), #ffb77a);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: white;
      font-size: 20px;
      font-family: Georgia, serif;
    }

    .brand h1 {
      margin: 0;
      font-size: 20px;
      color: var(--text)
    }

    .brand p {
      margin: 0;
      font-size: 13px;
      color: var(--muted)
    }

    nav {
      display: flex;
      gap: 12px;
      align-items: center
    }

    nav a {
      color: var(--text);
      text-decoration: none;
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 8px
    }

    nav a.cta {
      background: var(--accent);
      color: #fff;
    }

    nav .cart-btn {
      position: relative;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 20px;
    }

    nav .cart-count {
      position: absolute;
      top: -5px;
      right: -10px;
      background: var(--accent);
      color: #fff;
      font-size: 12px;
      border-radius: 999px;
      padding: 2px 6px;
    }

    main {
      display: grid;
      gap: 30px
    }

    .hero {
      background: #fff;
      border-radius: var(--radius);
      padding: 36px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      text-align: center;
    }

    .hero h2 {
      margin: 0;
      font-size: 26px;
    }

    .hero p {
      color: var(--muted);
      margin-top: 12px;
      font-size: 16px;
      max-width: 720px;
      margin-left: auto;
      margin-right: auto;
    }

    .actions {
      margin-top: 22px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 12px;
      border: 0;
      cursor: pointer;
      font-weight: 600;
    }

    .btn.primary {
      background: var(--accent);
      color: #fff;
    }

    .btn.secondary {
      background: #fff;
      border: 1px solid var(--accent);
      color: var(--accent);
    }

    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 18px;
      align-items: center;
      background: #fff;
      padding: 12px 18px;
      border-radius: var(--radius);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    }

    .filters select,
    .filters input {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #ddd;
      font-size: 14px;
    }

    .catalog {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 18px
    }

    .card {
      background: #fff;
      border-radius: var(--radius);
      padding: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      transition: transform .2s ease;
    }

    .card:hover {
      transform: translateY(-6px);
    }

    .card img {
      width: 100%;
      border-radius: 8px;
      object-fit: cover;
      aspect-ratio: 1.2/1;
    }

    .card h3 {
      margin: 10px 0 4px 0;
      font-size: 16px
    }

    .card p {
      margin: 0;
      color: var(--muted);
      font-size: 13px
    }

    .meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .chip {
      padding: 5px 8px;
      border-radius: 999px;
      font-size: 12px;
      background: rgba(249, 115, 22, 0.1);
      color: var(--accent);
    }

    footer {
      margin-top: 40px;
      padding: 18px;
      border-radius: var(--radius);
      background: #fff;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      text-align: center;
      font-size: 14px;
      color: var(--muted);
    }

    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
      padding: 20px;
      overflow-y: auto;
    }

    .modal.show {
      display: flex;
    }

    .modal .box {
      background: #fff;
      border-radius: var(--radius);
      padding: 20px;
      width: 100%;
      max-width: 480px;
      box-shadow: 0 6px 24px rgba(0, 0, 0, 0.15);
      animation: fadeIn 0.25s ease;
    }

    .modal img {
      width: 100%;
      border-radius: 8px;
      margin-bottom: 12px;
      object-fit: cover;
      max-height: 280px;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @media (max-width: 600px) {
      .modal .box {
        padding: 16px;
        max-width: 90%;
      }

      .modal img {
        max-height: 200px;
      }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo"></div>
        <div>
          <h1>Soir Alliv</h1>
          <p>Portf√≥lio de Impress√µes 3D</p>
        </div>
      </div>
      <nav>
        <a href="#catalog" class="cta">Cat√°logo</a>
        <button class="cart-btn" id="openCart">üõí<span class="cart-count" id="cartCount">0</span></button>
      </nav>
    </header>

    <main>
      <section class="hero"> 
        <h2>Seja muito bem-vindo a Soir Alliv</h2> 
        <p> √â um prazer receb√™-lo em nosso espa√ßo criativo. Aqui, atendemos suas necessidades atrav√©s da impress√£o 3D, com aten√ß√£o a cada detalhe e compromisso com a qualidade. </p> 
       
        <br> 

        <h3>Modelos 3D personaliz√°veis</h3> 
        <p> Todos os modelos dispon√≠veis no site podem ser personalizados conforme sua prefer√™ncia. Voc√™ pode ajustar cores, tamanhos, detalhes e at√© incluir e editar textos gravados, entre em contato conosco pelo WhatsApp e deixaremos cada pe√ßa exatamente do seu jeito. </p> 
        
        <br> 

        <h3>Varia√ß√£o de valores</h3> 
        <p> Altera√ß√µes nos produtos, como tamanho, cor ou tipo de material, podem gerar pequenas varia√ß√µes no valor final. Isso ocorre devido √† diferen√ßa no consumo de filamento e no material utilizado em cada pe√ßa. </p> 
        
        <br> 

        <h3>Encomendas sob medida</h3> 
        <p> Tamb√©m realizamos cria√ß√µes exclusivas que n√£o est√£o listadas no site. Caso deseje um modelo totalmente novo ou espec√≠fico, entre em contato conosco pelo WhatsApp e descreva sua ideia. Desenvolveremos o projeto especialmente para voc√™. </p> 
       
        <div class="actions"><a class="btn secondary" href="https://wa.me/5519988822112?text=Ol√°!%20Gostaria%20de%20pedir%20uma%20encomenda%20sob%20medida!" target="_blank">Falar no WhatsApp</a> </div>

</section>

      <section id="catalog">
        <h2>Cat√°logo</h2>
        <div class="filters">
          <input type="text" id="search" placeholder="Buscar produto...">
          <select id="filterCat">
            <option value="">Categoria</option>
            <option value="miniatura">Miniaturas</option>
            <option value="MTG">MTG</option>
            <option value="RPG">RPG</option>
          </select>
        </div>
        <div class="catalog" id="catalogGrid"></div>
      </section>
    </main>

    <footer>¬© 2025 Soir Alliv. Todos os direitos reservados.</footer>
  </div>

  <!-- Modal Produto -->
  <div class="modal" id="modal">
    <div class="box">
      <button id="closeModal"
        style="float:right;border:0;background:none;font-size:18px;cursor:pointer;">‚úï</button>
      <h3 id="modalName"></h3>
      <img id="modalImg" src="">
      <p id="modalDesc"></p>
      <p><strong>Material:</strong> <span id="modalMat"></span></p>
      <p><strong>Tamanho:</strong> <span id="modalSize"></span></p>
      <p><strong>Pre√ßo:</strong> <span id="modalPrice"></span></p>
      <button id="addToCart" class="btn primary">Adicionar ao Carrinho</button>
    </div>
  </div>

  <!-- Modal Carrinho -->
  <div class="modal" id="cartModal">
    <div class="box">
      <button id="closeCart"
        style="float:right;border:0;background:none;font-size:18px;cursor:pointer;">‚úï</button>
      <h3>üõí Seu Carrinho</h3>
      <div id="cartItems"></div>
      <div id="cartItems"></div>
      <p id="cartTotal" style="margin-top:10px;font-weight:bold;text-align:right;"></p>

      <br>
      <button id="sendCart" class="btn primary" style="width:100%">Enviar pedido pelo WhatsApp</button>
    </div>
  </div>

  <script>
    const PHONE_NUMBER = '5519988822112';
    const grid = document.getElementById('catalogGrid');
    const search = document.getElementById('search');
    const cat = document.getElementById('filterCat');

    let products = [];
    let cart = [];

    async function loadProducts() {
      const res = await fetch('produtos.json');
      products = await res.json();
      render();
    }

    function render() {
      const term = search.value.toLowerCase();
      const c = cat.value;
      grid.innerHTML = '';
      products.filter(p => {
        const matchTerm = p.name.toLowerCase().includes(term) || p.desc.toLowerCase().includes(term);
        const matchCat = !c || p.category === c;
        return matchTerm && matchCat;
      }).forEach(p => {
        const el = document.createElement('div');
        el.className = 'card';
        el.innerHTML = `
          <img src="${p.img}" alt="${p.name}">
          <h3>${p.name}</h3>
          <p>${p.desc}</p>
          <div class="meta">
            <span class="chip">${p.material.toUpperCase()}</span>
            <button class="btn secondary" data-id="${p.id}">Ver</button>
          </div>`;
        grid.appendChild(el);
      });
    }

    [search, cat].forEach(el => el.addEventListener('input', render));

    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalName = document.getElementById('modalName');
    const modalDesc = document.getElementById('modalDesc');
    const modalMat = document.getElementById('modalMat');
    const modalSize = document.getElementById('modalSize');
    const modalPrice = document.getElementById('modalPrice');
    const addToCartBtn = document.getElementById('addToCart');
    let currentProduct = null;

    document.addEventListener('click', e => {
      const b = e.target.closest('[data-id]');
      if (!b) return;
      const p = products.find(x => x.id === b.dataset.id);
      currentProduct = p;
      modal.classList.add('show');
      modalImg.src = p.img;
      modalName.textContent = p.name;
      modalDesc.textContent = p.desc;
      modalMat.textContent = p.material.toUpperCase();
      modalSize.textContent = p.size;
      modalPrice.textContent = p.price;
    });

    addToCartBtn.onclick = () => {
    cart.push(currentProduct);
     updateCartCount();
     modal.classList.remove('show');
    };


    function updateCartCount() {
      document.getElementById('cartCount').textContent = cart.length;
    }

    document.getElementById('closeModal').onclick = () => modal.classList.remove('show');
    modal.onclick = e => { if (e.target === modal) modal.classList.remove('show'); };

    // Carrinho modal
    const cartModal = document.getElementById('cartModal');
    const cartItems = document.getElementById('cartItems');
    const openCart = document.getElementById('openCart');
    const closeCart = document.getElementById('closeCart');

    openCart.onclick = () => {
      renderCart();
      cartModal.classList.add('show');
    };
    closeCart.onclick = () => cartModal.classList.remove('show');
    cartModal.onclick = e => { if (e.target === cartModal) cartModal.classList.remove('show'); };

    function renderCart() {
  if (cart.length === 0) {
    cartItems.innerHTML = '<p>Seu carrinho est√° vazio.</p>';
    document.getElementById('cartTotal').textContent = '';
    return;
  }

  // Renderiza os itens
  cartItems.innerHTML = cart.map((p, i) => `
    <div class="cart-item" data-index="${i}" style="display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding:6px 0;">
      <span>${p.name}</span>
      <button class="remove-item" style="background:none;border:none;color:#f97316;cursor:pointer;">Remover</button>
    </div>
  `).join('');

  // Calcula e mostra o total
  const total = cart.reduce((sum, p) => sum + parseFloat(p.price.replace(/[^\d.-]/g, '')), 0);
  document.getElementById('cartTotal').textContent = `Total: R$ ${total.toFixed(2)}`;
}

// Adiciona escuta de eventos no container (event delegation)
cartItems.addEventListener('click', e => {
  if (e.target.classList.contains('remove-item')) {
    const index = e.target.closest('.cart-item').dataset.index;
    cart.splice(index, 1);
    updateCartCount();
    renderCart();
  }
});

    document.getElementById('sendCart').onclick = () => {
      if (cart.length === 0) return;
      const msg = "Ol√°! Gostaria de pedir os seguintes produtos:\n\n" +
        cart.map(p => `- ${p.name}`).join('\n');
      window.open(`https://wa.me/${PHONE_NUMBER}?text=${encodeURIComponent(msg)}`, '_blank');
    };

    loadProducts();
  </script>
</body>
</html>
